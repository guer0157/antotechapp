"use strict";!function(t,e){t.t$=function(t,e){function s(e){if(!("ontouchstart"in t))return console.log("Sorry. Your browser does not support Tap or Swipe."),{addEventListener:function(){this.message()},removeTarget:function(){this.message()},addTarget:function(){this.message()},message:function(){console.log("Sorry. Your browser does not support TinyShell.")}};console.log("TinyShell is supported");var s=[];s=e.length?Array.from(e):[e],this.Params={targets:s,startX:0,startY:0,moved:!1,duration:0,maxSwipeTime:300,minDistance:25,maxDistance:20,hasTouchListeners:!1},this.Events={swipeleft:new CustomEvent("swipeleft",{detail:{dir:"left",touches:1,callback:null}}),swiperight:new CustomEvent("swiperight",{detail:{dir:"right",touches:1,callback:null}}),tap:new CustomEvent("tap",{detail:{touches:1,callback:null}})}}return s.EventTypes={SWIPELEFT:"swipeleft",SWIPERIGHT:"swiperight",TAP:"tap"},s.prototype.addEventListener=function(t,e){this.Events[t].detail.callback=e,this.Params.targets.forEach(function(e){e.addEventListener(t,this),e.addEventListener("touchstart",this),e.addEventListener("touchend",this),e.addEventListener("touchcancel",this)}.bind(this))},s.prototype.removeTarget=function(t){try{t.removeEventListener("swipeleft",this)}catch(t){}try{t.removeEventListener("swiperight",this)}catch(t){}try{t.removeEventListener("tap",this)}catch(t){}t.removeEventListener("touchstart",this),t.removeEventListener("touchend",this),t.removeEventListener("touchcancel",this),this.Params.targets.filter(function(e){return!e===t})},s.prototype.addTarget=function(t){this.Params.targets.push(t);var e=this.Events.swipeleft.detail.callback,s=this.Events.swiperight.detail.callback,a=this.Events.tap.detail.callback;e&&t.addEventListener("swipeleft",e),s&&t.addEventListener("swipeleft",s),a&&t.addEventListener("swipeleft",a),t.addEventListener("touchstart",this),t.addEventListener("touchend",this),t.addEventListener("touchcancel",this)},s.prototype.start=function(t){var e=t.changedTouches;this.Events.tap.detail.touches=e.length,this.Events.swipeleft.detail.touches=e.length,this.Events.swiperight.detail.touches=e.length,this.Params.startX=e[0].pageX,this.Params.startY=e[0].pageY,performance.mark("start")},s.prototype.end=function(t){var e=t.changedTouches;if(1==e.length){performance.mark("end"),performance.measure("touching","start","end");var s=performance.getEntriesByName("touching","measure")[0].duration,a=Math.max(this.Params.startX,e[0].pageX)-Math.min(this.Params.startX,e[0].pageX),i=Math.max(e[0].pageY,this.Params.startY)-Math.min(e[0].pageY,this.Params.startY),r=void 0;if(r=Math.max(this.Params.startX,e[0].pageX)==this.Params.startX?"left":"right",null!==this.Events.tap.detail.callback&&"function"==typeof this.Events.tap.detail.callback&&a<this.Params.maxDistance&&i<this.Params.maxDistance)return t.currentTarget.dispatchEvent(this.Events.tap),performance.clearMarks("start"),void performance.clearMarks("end");if("left"==r&&null!==this.Events.swipeleft.detail.callback&&"function"==typeof this.Events.swipeleft.detail.callback)return a>this.Params.minDistance&&s<this.Params.maxSwipeTime&&a>i?(console.log("Successful swipeleft"),t.currentTarget.dispatchEvent(this.Events.swipeleft)):console.log("Invalid swipeleft",a,s),performance.clearMarks("start"),void performance.clearMarks("end");if("right"==r&&null!==this.Events.swiperight.detail.callback&&"function"==typeof this.Events.swiperight.detail.callback)return a>this.Params.minDistance&&s<this.Params.maxSwipeTime&&a>i?(console.log("Successful swiperight"),t.currentTarget.dispatchEvent(this.Events.swiperight)):console.log("Invalid swiperight",a,s),performance.clearMarks("start"),void performance.clearMarks("end")}},s.prototype.cancel=function(t){console.log("cancel"),performance.clearMarks("start")},s.prototype.clear=function(t,e){console.log("clear"),this.Events[t].detail.callback=null,this.Params.targets.forEach(function(s){s.removeEventListener(t,e),s.removeEventListener("touchstart",this.start),s.removeEventListener("touchend",this.end),s.removeEventListener("touchcancel",this.cancel)}.bind(this)),this.Params.hasTouchListeners=!1,this.Params.targets=[]},s.prototype.handleEvent=function(t){switch(t.type){case"swipeleft":case"swiperight":case"tap":1==t.detail.touches?this.Events[t.type].detail.callback.call(this,t):console.log("Wrong number of touch points",t.detail.touches);break;case"touchstart":this.start(t);break;case"touchend":this.end(t);break;case"touchcancel":this.cancel(t)}},s}(t,t.document)}(window);